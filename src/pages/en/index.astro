---
import Contact from "../../components/Contact.astro";
import ContentLink from "../../components/ContentLink.astro";
import ContentCode from "../../components/ContentAbout.astro";
import Profile from "../../components/Profile.astro";
import Layout from "../../layouts/Layout.astro";
import Footer from "../../components/Footer.astro";
import { fade } from "astro:transitions";
---

<Layout>
	<!-- Start: Main Wrapper -->
	<main
		class="flex flex-col lg:flex-row w-full max-w-full lg:max-w-7xl border border-gray-600 rounded-2xl overflow-hidden shadow-2xl relative bg-black"
	>
		<!-- Start: Left / upper card -->
		<div
			class="p-8 lg:p-6 flex flex-col justify-between w-full lg:w-2/5 border-b lg:border-b-0 lg:border-r border-gray-600"
		>
			<div transition:animate={fade({ duration: 500 })}>
				<Profile />
			</div>

			<div>
				<div transition:animate={fade({ duration: 600 })}>
					<Contact />
				</div>
				<Footer />
			</div>
		</div>
		<!-- End: Left / upper card -->

		<!-- Start: Right / lower card (yes 4/5 instead of 3/5) -->
		<div class="w-full lg:w-4/5 p-0">
			<!-- Start: Inner wrapper -->
			<div class="min-h-full h-[90dvh] flex flex-col overflow-y-scroll">
				<!-- Use hidden radio buttons to control the tabs -->
				<div class="tab-controls">
					<input
						type="radio"
						id="tab1"
						name="tabs"
						class="tab-radio"
						checked
					/>

					<!-- <input
                        type="radio"
                        id="tab2"
                        name="tabs"
                        class="tab-radio"
                    /> -->

					<!-- Start: Tab bar -->
					<div
						class="flex bg-black border-b border-gray-600 sticky top-0 z-10"
					>
						<ContentLink contentId="tab1" contentName="about.ts" />

						<!-- <ContentLink
                            contentId="tab2"
                            contentName="projects.lg"
                        /> -->
					</div>
					<!-- End: Tab bar -->

					<!-- Start: Tab content -->
					<div class="p-6 grow overflow-y-auto bg-black">
						<!-- Start: About content -->
						<div id="content1" class="tab-content">
							<ContentCode />
						</div>
						<!-- End: About content -->

						<!-- Start: Projects content -->

						<!-- <div id="content2" class="tab-content">
                            <ContentProjects />
                        </div> -->

						<!-- End: Projects content -->
					</div>
					<!-- End: Tab content -->
				</div>
			</div>
			<!-- End: Inner wrapper -->
		</div>
		<!-- End: Right / lower card -->
	</main>
	<!-- End: Main Wrapper -->

	<!-- Credits -->
</Layout>

<style is:global>
	@reference "../../styles/global.css";

	/* Hide the radio buttons */
	.tab-radio {
		@apply absolute opacity-0 pointer-events-none;
	}

	/* Default state - hide all tab content */
	.tab-content {
		@apply hidden opacity-0;
		transition: opacity 0.3s ease-in-out;
	}

	/* Default state for tab links */
	.tab-link {
		@apply border-b-2 border-transparent bg-transparent;
		transition: background-color 0.2s ease-in-out;
	}

	/* When tab1 is checked, show content1 and highlight its tab */
	#tab1:checked ~ * #content1 {
		@apply block opacity-100;
	}

	#tab1:checked ~ .flex .tab-link:nth-child(1) {
		@apply border-b-2 border-b-primary;
	}

	/* When tab2 is checked, show content2 and highlight its tab */
	#tab2:checked ~ * #content2 {
		@apply block opacity-100;
	}

	#tab2:checked ~ .flex .tab-link:nth-child(2) {
		@apply border-b-2 border-b-primary;
	}
</style>
